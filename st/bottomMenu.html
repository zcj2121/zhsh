<div class="panel panel-default">
    <div class="panel-heading">
        <span class="h4">{{title}}</span>
        <div class="pull-right">
            <a ng-click="add()"  class="btn btn-default btn-sm" style="margin-top:-5px;" ng-show="items.length<3">添加一级菜单</a>
        </div>
    </div>
    <div class="panel-body">
        <form name="addrelForm" class="form-horizontal">
            <table class="table table-bordered soltable" ng-repeat="item in items">
                <tbody>
                    <tr>
                        <th class="text-left col-sm-2">一级菜单<span style="color:red;vertical-align: middle;">*</span></th>
                        <td class="text-left col-sm-3" colspan="{{item.sub_button?3:2}}">
                            <input type="text" class="form-control numberarr" ng-model="item.name" placeholder="请输入主菜单" required>
                        </td>
                        <td ng-if="item.sub_button.length==[]" class="text-left col-sm-4" colspan="2">
                            <input type="text" class="form-control numberarr" ng-model="item.url" placeholder="请输入链接地址" required>
                        </td>
                        <td class="text-center col-sm-3">
                            <a ng-click="del(items,item)"  class="btn btn-default">删除一级菜单</a>
                            <a  ng-click="addProduct(item.sub_button,item)" class="btn btn-default" ng-hide="item.sub_button.length>=5">添加子菜单</a>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="5" style="padding:0px 0;">
                            <table class="table table-bordered tableclass" style="margin-bottom:0px;border-left:none;border-right:none;" ng-repeat="list in item.sub_button">
                                <tr >
                                    <th class="text-left col-sm-2" style="border-left-width: 0px;">
                                        <span style="font-weight: bold;">子菜单{{$index+1}}</span><span style="color:red;vertical-align: middle;">*</span>
                                    </th>
                                    <td class="text-left" style="border-left-width: 0px;">
                                        <input type="text" class="form-control numberarr" ng-model="list.name" placeholder="请输入子菜单" required>
                                    </td>
                                    <th class="text-left col-sm-2">子菜单{{$index+1}}链接<span style="color:red;vertical-align: middle;">*</span></th>
                                    <td class="text-left col-sm-4" >
                                        <input type="text" class="form-control numberarr" ng-model="list.url" placeholder="请输入子菜单链接" required>
                                    </td>
                                    <td class="col-sm-1 text-nowrap">
                                        <a ng-click="delProduct(item.sub_button,item)" class="btn btn-default">删除子菜单</a>
                                    </td>
                                </tr>
   
                            </table>
                        </td>
                    
                    </tr>
                </tbody>

            </table>
            <div class="form-group">
                <div class="text-center">
                    <button type="button" class="btn btn-default" ng-disabled="addrelForm.$invalid" ng-click="save()">保存</button>
                </div>
            </div>
            <div class="form-group" >
                <div class="text-center menu-error" style="min-height:50px;">
                    
                </div>
            </div>
        </form>
        
        
    </div>
</div>

